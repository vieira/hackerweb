!function(t){function e(){}function n(){var e=location.hash.slice(1),t=!1,n=d.current,e=e||u.defaultPath;n&&n!=d.previous&&(d.previous=n),d.current=e;for(var i=0,o=c.length;i<o&&!t;i++){var r=c[i],s=r.path,a=r.name,l=r.fn;"string"==typeof s?s.toLowerCase()==e.toLowerCase()&&(u.before.call(d,s,a),l.call(d),u.on.call(d,s,a),t=!0):(r=e.match(s))&&(u.before.call(d,s,a,r),l.apply(d,r),u.on.call(d,s,a,r),t=!0)}return t||u.notfound.call(d),d}var c=[],u={defaultPath:"/",before:e,on:e,notfound:e},d={
current:null,previous:null,config:function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);return d},add:function(e,t,n){return e&&t&&("function"==typeof t&&(n=t,t=null),c.push({path:e,name:t,fn:n||function(){}})),d},go:function(e){return location.hash=e,d},back:function(e){return d.previous?(history.back(),d.previous=null):e&&(location.hash=e),d},init:function(e){return t.addEventListener("hashchange",n),n()}};d.reload=n,t.ruto=d}(window),function(e,h){var f=e.store=function(e,t,n){
var i=f.type;return n&&n.type&&n.type in f.types&&(i=n.type),f.types[i](e,t,n||{})};f.types={},f.type=null,f.addType=function(i,e){f.type||(f.type=i),f.types[i]=e,f[i]=function(e,t,n){return(n=n||{}).type=i,f(e,t,n)}},f.error=function(){return"amplify.store quota exceeded"};var t,i,o,d=/^__amplify__/;function n(c,u){f.addType(c,function(t,e,n){var i,o,r,s,a=e,l=(new Date).getTime();if(!t){a={},s=[],r=0;try{for(t=u.length;t=u.key(r++);)d.test(t)&&((o=JSON.parse(u.getItem(t))
).expires&&o.expires<=l?s.push(t):a[t.replace(d,"")]=o.data);for(;t=s.pop();)u.removeItem(t)}catch(e){}return a}if(t="__amplify__"+t,e===h){if(!((o=(i=u.getItem(t))?JSON.parse(i):{expires:-1}).expires&&o.expires<=l))return o.data;u.removeItem(t)}else if(null===e)u.removeItem(t);else{o=JSON.stringify({data:e,expires:n.expires?l+n.expires:null});try{u.setItem(t,o)}catch(e){f[c]();try{u.setItem(t,o)}catch(e){throw f.error()}}}return a})}for(t in{localStorage:1,sessionStorage:1})try{
window[t].setItem("__amplify__","x"),window[t].removeItem("__amplify__"),n(t,window[t])}catch(e){}if(!f.types.localStorage&&window.globalStorage)try{n("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===f.type&&(f.type="globalStorage")}catch(e){}function r(e){return e===h?h:JSON.parse(JSON.stringify(e))}!function(){if(!f.types.localStorage){var u=document.createElement("div"),d="amplify";u.style.display="none",document.getElementsByTagName("head")[0].appendChild(u)
;try{u.addBehavior("#default#userdata"),u.load(d)}catch(e){return u.parentNode.removeChild(u)}f.addType("userData",function(t,e,n){u.load(d);var i,o,r,s,a,l=e,c=(new Date).getTime();if(!t){for(l={},a=[],s=0;i=u.XMLDocument.documentElement.attributes[s++];)(o=JSON.parse(i.value)).expires&&o.expires<=c?a.push(i.name):l[i.name]=o.data;for(;t=a.pop();)u.removeAttribute(t);return u.save(d),l}if(t=(t=t.replace(
/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-")).replace(/^-/,"_-"),e===h){if(!((o=(i=u.getAttribute(t))?JSON.parse(i):{expires:-1}).expires&&o.expires<=c))return o.data;u.removeAttribute(t)}else null===e?u.removeAttribute(t):(r=u.getAttribute(t),o=JSON.stringify({data:e,expires:n.expires?c+n.expires:null}),u.setAttribute(t,o));try{u.save(d)}catch(e){null===r?u.removeAttribute(t):u.setAttribute(t,r),f.userData();try{u.setAttribute(t,o)
,u.save(d)}catch(e){throw null===r?u.removeAttribute(t):u.setAttribute(t,r),f.error()}}return l})}}(),i={},o={},f.addType("memory",function(e,t,n){return e?t===h?r(i[e]):(o[e]&&(clearTimeout(o[e]),delete o[e]),null===t?(delete i[e],null):(i[e]=t,n.expires&&(o[e]=setTimeout(function(){delete i[e],delete o[e]},n.expires)),t)):r(i)})}(this.amplify=this.amplify||{});var Hogan={};!function(e){function u(e,t,n){var i;return t&&"object"==typeof t&&(
void 0!==t[e]?i=t[e]:n&&t.get&&"function"==typeof t.get&&(i=t.get(e))),i}e.Template=function(e,t,n,i){e=e||{},this.r=e.code||this.r,this.c=n,this.options=i||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:function(e){return e=a(e),s.test(e)?e.replace(t,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(o,"&#39;").replace(r,"&quot;"):e},t:a,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n
){return this.r(e,t,n)},ep:function(e,t){var n=this.partials[e],i=t[n.name];if(n.instance&&n.base==i)return n.instance;if("string"==typeof i){if(!this.c)throw new Error("No compiler available.");i=this.c.compile(i,this.options)}if(!i)return null;if(this.partials[e].base=i,n.subs){for(key in t.stackText||(t.stackText={}),n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);i=function(e,t,n,i,o,r){function s(){}
function a(){}a.prototype=(s.prototype=e).subs;var l=new s;for(var c in l.subs=new a,l.subsText={},l.buf="",i=i||{},l.stackSubs=i,l.subsText=r,t)i[c]||(i[c]=t[c]);for(c in i)l.subs[c]=i[c];for(c in o=o||{},l.stackPartials=o,n)o[c]||(o[c]=n[c]);for(c in o)l.partials[c]=o[c];return l}(i,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=i},rp:function(e,t,n,i){e=this.ep(e,n);return e?e.ri(t,n,i):""},rs:function(e,t,n){var i=e[e.length-1];if(d(i))for(
var o=0;o<i.length;o++)e.push(i[o]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,i,o,r,s){return(!d(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,n,i,o,r,s)),s=!!e,!i&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,t,n,i){var o,r=e.split("."),s=this.f(r[0],t,n,i),a=this.options.modelGet,l=null;if("."===e&&d(t[t.length-2]))s=t[t.length-1];else for(var c=1;c<r.length;c++)s=void 0!==(o=u(r[c],s,a))?(l=s,o):"";return!(i&&!s)&&(i||"function"!=typeof s||(t.push(
l),s=this.mv(s,t,n),t.pop()),s)},f:function(e,t,n,i){for(var o=!1,r=!1,s=this.options.modelGet,a=t.length-1;0<=a;a--)if(void 0!==(o=u(e,t[a],s))){r=!0;break}return r?(i||"function"!=typeof o||(o=this.mv(o,t,n)),o):!i&&""},ls:function(e,t,n,i,o,r){var s=this.options.delimiters;return this.options.delimiters=r,this.b(this.ct(a(e.call(t,o,n)),t,i)),this.options.delimiters=s,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,
this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,i,o,r,s){var a=t[t.length-1],e=e.call(a);return"function"==typeof e?!!i||(i=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(e,a,t,n,i.substring(o,r),s)):e},mv:function(e,t,n){t=t[t.length-1],e=e.call(t);return"function"==typeof e?this.ct(a(e.call(t)),t,n):e},sub:function(e,t,n,i){var o=this.subs[e];o&&(
this.activeSub=e,o(t,n,this,i),this.activeSub=!1)}};var t=/&/g,n=/</g,i=/>/g,o=/\'/g,r=/\"/g,s=/[&<>\"\']/;function a(e){return String(null==e?"":e)}var d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),function(a){var l=!!a.XDomainRequest,c="withCredentials"in new XMLHttpRequest||l,u=!1,d={};try{(u=new Worker("js/hnapi-worker.js")).addEventListener("message",function(e){var t,n=e.data,i=n.url||"";d[i]&&(e=(t=d[i]
).error,t=t.success,delete d[i],n.error?e(n.error):t(n.response))},!1)}catch(e){}function r(t,e,n){var i,o,r,s;e=e||function(){},n=n||function(){},c?u?(d[t]={success:e,error:n},u.postMessage({url:t,timeout:2e4})):((i=d[t]||new(l?XDomainRequest:XMLHttpRequest))._timeout&&clearTimeout(i._timeout),i._timeout=setTimeout(function(){i.abort()},2e4),i.onload=function(){clearTimeout(this._timeout),delete d[t];try{e(JSON.parse(this.responseText))}catch(e){n(e)}},i.onerror=i.onabort=i.ontimeout=function(e
){clearTimeout(this._timeout),delete d[t],n(e)},(i.readyState<=1||l)&&(i.open("GET",t,!0),i.send()),d[t]=i):(r=(o=a.document).createElement("script"),s="callback"+ +new Date,a[s]=e,r.onerror=n,r.src=t+"?callback="+s,o.body.appendChild(r))}var s=["https://node-hnapi-eu.herokuapp.com/","https://node-hnapi.azurewebsites.net/","https://node-hnapi-eus.azurewebsites.net/"];function i(e,t,n){r(s[0]+e,t,function(){f(0,e,t,n)})}!function(e){for(var t=e.length-1;0<t;t--){var n=Math.floor(Math.random()*(
t+1)),i=e[t];e[t]=e[n],e[n]=i}}(s),s.unshift("https://api.hackerwebapp.com/");var h=s.length,f=function(e,t,n,i){var o=e<h-1?function(){f(e+1,t,n,i)}:i;r(s[e]+t,n,o)},e={urls:s,news:function(e,t){i("news",e,t)},news2:function(e,t){i("news2",e,t)},item:function(e,t,n){i("item/"+e,t,n)},comments:function(e,t,n){i("comments/"+e,t,n)}};a.hnapi=e}(window),function(e,t){"function"==typeof define&&define.amd?define("tappable",[],function(){return t(e,window.document),e.tappable}):t(e,window.document)}(
this,function(e,L){function C(e,t){return 3==(t=L.elementFromPoint(e,t)).nodeType&&(t=t.parentNode),t}function n(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}function x(e,t){t&&(e.classList?e.classList.add(t):-1<n(e.className).indexOf(t)||(e.className=n(e.className+" "+t)))}function N(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)"),"$1"))}function I(e,t){for(var n,i,o,r=!1;n=e,i=t,o=void 0,r=((o=L.documentElement
).matchesSelector||o.mozMatchesSelector||o.webkitMatchesSelector||o.oMatchesSelector||o.msMatchesSelector).call(n,i),!r&&(e=e.parentNode)&&e.ownerDocument;);return!!r&&e}var A=Math.abs,t=function(){},M={noScroll:!1,activeClass:"tappable-active",onTap:t,onStart:t,onMove:t,onMoveOut:t,onMoveIn:t,onEnd:t,onCancel:t,allowClick:!1,boundMargin:50,noScrollDelay:0,activeClassDelay:0,inactiveClassDelay:0},t="ontouchend"in document,q={start:t?"touchstart":"mousedown",move:t?"touchmove":"mousemove",
end:t?"touchend":"mouseup"};e.tappable=function(i,e){"function"==typeof e&&(e={onTap:e});var t,r={};for(t in M)r[t]=e[t]||M[t];function n(e){var t,n=I(function(e){var t=e.target;if(t)return 3==t.nodeType&&(t=t.parentNode),t;e=e.targetTouches[0];return C(e.clientX,e.clientY)}(e),i);n&&(_?(clearTimeout(p),p=setTimeout(function(){x(n,g)},_)):x(n,g),T&&n==u&&clearTimeout(m),d=e.clientX,h=e.clientY,d&&h||(t=e.targetTouches[0],d=t.clientX,h=t.clientY),c=n,y=w=!1,f=E?n.getBoundingClientRect():null,k&&(
clearTimeout(v),E=!1,v=setTimeout(function(){E=!0},k)),r.onStart.call(b,e,n))}function o(e){var t,n,i,o;c&&(E?e.preventDefault():clearTimeout(p),o=e.target,n=e.clientX,i=e.clientY,o&&n&&i||(t=e.changedTouches[0],n=n||t.clientX,i=i||t.clientY,o=o||C(n,i)),E?n>f.left-S&&n<f.right+S&&i>f.top-S&&i<f.bottom+S?(y=!1,x(c,g),r.onMoveIn.call(b,e,o)):(y=!0,N(c,g),r.onMoveOut.call(b,e,o)):!w&&10<A(i-h)&&(w=!0,N(c,g),r.onCancel.call(o,e)),r.onMove.call(b,e,o))}function s(e){var t,n;c&&(clearTimeout(p),T?(
_&&!w&&x(c,g),t=c,m=setTimeout(function(){N(t,g)},T)):N(c,g),r.onEnd.call(b,e,c),n=3==e.which||2==e.button,w||y||n||r.onTap.call(b,e,c),u=c,c=null,setTimeout(function(){d=h=null},400))}function a(e){c&&(N(c,g),c=d=h=null,r.onCancel.call(b,e))}function l(e){I(e.target,i)?e.preventDefault():d&&h&&A(e.clientX-d)<25&&A(e.clientY-h)<25&&(e.stopPropagation(),e.preventDefault())}var c,u,d,h,f,p,m,v,b=r.containerElement||L.body,w=!1,y=!1,g=r.activeClass,_=r.activeClassDelay,T=r.inactiveClassDelay,
E=r.noScroll,k=r.noScrollDelay,S=r.boundMargin;return b.addEventListener(q.start,n,!1),b.addEventListener(q.move,o,!1),b.addEventListener(q.end,s,!1),b.addEventListener("touchcancel",a,!1),r.allowClick||b.addEventListener("click",l,!1),{el:b,destroy:function(){return b.removeEventListener(q.start,n,!1),b.removeEventListener(q.move,o,!1),b.removeEventListener(q.end,s,!1),b.removeEventListener("touchcancel",a,!1),r.allowClick||b.removeEventListener("click",l,!1),this}}}});var _Group=function(){
this._tweens={},this._tweensAddedDuringUpdate={}};_Group.prototype={getAll:function(){return Object.keys(this._tweens).map(function(e){return this._tweens[e]}.bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(
e=void 0!==e?e:TWEEN.now();0<n.length;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var o=this._tweens[n[i]];o&&!1===o.update(e)&&(o._isPlaying=!1,t||delete this._tweens[n[i]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var TWEEN=new _Group;TWEEN.Group=_Group,TWEEN._nextId=0,TWEEN.nextId=function(){return TWEEN._nextId++},"undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?TWEEN.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6
}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?TWEEN.now=self.performance.now.bind(self.performance):void 0!==Date.now?TWEEN.now=Date.now:TWEEN.now=function(){return(new Date).getTime()},TWEEN.Tween=function(e,t){this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,
this._easingFunction=TWEEN.Easing.Linear.None,this._interpolationFunction=TWEEN.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onRepeatCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||TWEEN,this._id=TWEEN.nextId()},TWEEN.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(e,t){return this._valuesEnd=Object.create(e),
void 0!==t&&(this._duration=t),this},duration:function(e){return this._duration=e,this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==e?"string"==typeof e?TWEEN.now()+parseFloat(e):e:TWEEN.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(
this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array==!1&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying&&(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens()),this},end:function(){return this.update(1/0),this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++
)this._chainedTweens[e].stop()},group:function(e){return this._group=e,this},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){
return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onRepeat:function(e){return this._onRepeatCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,n,i,o,r,s;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime
)/this._duration,n=0===this._duration||1<n?1:n,i=this._easingFunction(n),this._valuesEnd)void 0!==this._valuesStart[t]&&(o=this._valuesStart[t]||0,(r=this._valuesEnd[t])instanceof Array?this._object[t]=this._interpolationFunction(r,i):("string"==typeof r&&(r="+"===r.charAt(0)||"-"===r.charAt(0)?o+parseFloat(r):parseFloat(r)),"number"==typeof r&&(this._object[t]=o+(r-o)*i)));if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1!==n)return!0;if(0<this._repeat){for(
t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)"string"==typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo&&(s=this._valuesStartRepeat[t],this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=s),this._valuesStart[t]=this._valuesStartRepeat[t];return this._yoyo&&(this._reversed=!this._reversed),
void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,null!==this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,l=this._chainedTweens.length;a<l;a++)this._chainedTweens[a].start(this._startTime+this._duration);return!1}},TWEEN.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},
InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{
In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(
Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},
InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((1+t)*e-t)*.5:.5*((e-=2)*e*((1+t)*e+t)+2)}},Bounce:{In:function(e){return 1-TWEEN.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*TWEEN.Easing.Bounce.In(2*e):.5*TWEEN.Easing.Bounce.Out(2*e-1)+.5}}},TWEEN.Interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i),
r=TWEEN.Interpolation.Utils.Linear;return t<0?r(e[0],e[1],i):1<t?r(e[n],e[n-1],n-i):r(e[o],e[n<o+1?n:o+1],i-o)},Bezier:function(e,t){for(var n=0,i=e.length-1,o=Math.pow,r=TWEEN.Interpolation.Utils.Bernstein,s=0;s<=i;s++)n+=o(1-t,i-s)*o(t,s)*e[s]*r(i,s);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,o=Math.floor(i),r=TWEEN.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(o=Math.floor(i=n*(1+t))),r(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],i-o)):t<0?e[0]-(r(e[0],e[0],e[1],e[1],-i
)-e[0]):1<t?e[n]-(r(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):r(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],i-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=TWEEN.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var i=[1];return function(e){var t=1;if(i[e])return i[e];for(var n=e;1<n;n--)t*=n;return i[e]=t}}(),CatmullRom:function(e,t,n,i,o){var r=.5*(n-e),e=.5*(i-t),i=o*o;return(2*t-2*n+r+e)*(o*i)+(-3*t+3*n-2*r-e)*i+r*o+t}}},function(e){
"function"==typeof define&&define.amd?define([],function(){return TWEEN}):"undefined"!=typeof module&&"object"==typeof exports?module.exports=TWEEN:void 0!==e&&(e.TWEEN=TWEEN)}(this),function(){for(var r=0,e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(
window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-r)),o=window.setTimeout(function(){e(n+i)},i);return r=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e){TEMPLATES={"comments-toggle":new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<button class="comments-toggle">'),i.b(i.v(i.f("comments_count",e,t,0))),i.b(" "),i.b(i.v(i.f("i_reply",e,t,0))),i.b("</button>"),i.fl()},partials:{},
subs:{}}),comments:new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("comments",e,t,1),e,t,0,13,418,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<li><p class="metadata '),n.s(n.f("deleted",e,t,1),e,t,0,48,55,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("deleted")}),e.pop()),n.b('">'),n.s(n.f("deleted",e,t,1),e,t,0,81,103,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b("<span>[deleted]</span>")}),e.pop()),n.s(n.f("deleted",e,t,1),e,t,1,0,0,"")||(n.b(
'<a href="https://news.ycombinator.com/user?id='),n.b(n.v(n.f("user",e,t,0))),n.b('" target="_blank"><b class="user">'),n.b(n.v(n.f("user",e,t,0))),n.b("</b></a>")),n.b('<time><a href="https://news.ycombinator.com/item?id='),n.b(n.v(n.f("id",e,t,0))),n.b('" target="_blank">'),n.b(n.v(n.f("time_ago",e,t,0))),n.b("</a></time></p>"),n.s(n.f("deleted",e,t,1),e,t,1,0,0,"")||(n.b("<p>"),n.b(n.t(n.f("content",e,t,0))),n.b("<ul>"),n.b(n.rp("<comments_list0",e,t,"")),n.b("</ul>")),n.b("</li>")}),e.pop())
,i.fl()},partials:{"<comments_list0":{name:"comments_list",partials:{},subs:{}}},subs:{}}),"post-comments":new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<div class="post-content">'),i.s(i.f("has_post",e,t,1),e,t,0,39,573,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<header><a href="'),n.b(n.v(n.f("url",e,t,0))),n.b('" target="_blank"><h1>'),n.b(n.v(n.f("title",e,t,0))),n.b("</h1>"),n.s(n.f("user",e,t,1),e,t,0,108,171,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.s(n.f("domain",e,t,1),e,t,0
,119,160,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="link-text">'),n.b(n.v(n.f("domain",e,t,0))),n.b("</span>")}),e.pop())}),e.pop()),n.b('</a><p class="metadata">'),n.s(n.f("user",e,t,1),e,t,0,213,408,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<span class="inline-block">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(n.v(n.f("i_point",e,t,0))),n.b(" by "),n.b(n.v(n.f("user",e,t,0))),n.b('</span> <span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.s(n.f("comments_count",e,t,1),
e,t,0,340,382,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" &middot; "),n.b(n.v(n.f("comments_count",e,t,0))),n.b(" "),n.b(n.v(n.f("i_comment",e,t,0)))}),e.pop()),n.b("</span>")}),e.pop()),n.s(n.f("user",e,t,1),e,t,1,0,0,"")||(n.b('<span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.b("</span>")),n.b('<a href="'),n.b(n.v(n.f("hn_url",e,t,0))),n.b('" target="_blank" class="external-link">'),n.b(n.v(n.f("short_hn_url",e,t,0))),n.b("</a></p></header>")}),e.pop()),i.s(i.f("has_content",e,t,1
),e,t,0,602,925,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<section class="grouped-tableview">'),n.b(n.t(n.f("content",e,t,0))),n.s(n.f("has_poll",e,t,1),e,t,0,663,902,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<ul class="poll">'),n.s(n.f("poll",e,t,1),e,t,0,689,888,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b('<li title="'),n.b(n.v(n.f("percentage",e,t,0))),n.b('%"><span class="poll-details"><b>'),n.b(n.v(n.f("item",e,t,0))),n.b('</b> <span class="points">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(
n.v(n.f("i_point",e,t,0))),n.b('</span></span><div class="poll-bar"><span style="width: '),n.b(n.v(n.f("width",e,t,0))),n.b('"></span></div></li>')}),e.pop()),n.b("</ul>")}),e.pop()),n.b("</section>")}),e.pop()),i.b('</div><section class="comments">'),i.s(i.f("loading",e,t,1),e,t,0,985,1055,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<div class="loader"><i class="icon-loading"></i> Loading&hellip;</div>')}),e.pop()),i.s(i.f("load_error",e,t,1),e,t,0,1082,1165,"{{ }}")&&(i.rs(e,t,function(e,t,n){
n.b('<div class="load-error">Couldn\'t load comments.<br><button>Try again</button></div>')}),e.pop()),i.s(i.f("loading",e,t,1),e,t,1,0,0,"")||i.s(i.f("load_error",e,t,1),e,t,1,0,0,"")||(i.s(i.f("has_comments",e,t,1),e,t,0,1224,1251,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("<ul>"),n.b(n.rp("<comments_list0",e,t,"")),n.b("</ul>")}),e.pop()),i.s(i.f("has_comments",e,t,1),e,t,1,0,0,"")||i.b('<p class="no-comments">No comments.</p>')),i.b("</section>"),i.fl()},partials:{"<comments_list0":{
name:"comments_list",partials:{},subs:{}}},subs:{}}),post:new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.b('<li id="story-'),i.b(i.v(i.f("id",e,t,0))),i.b('" data-index="'),i.b(i.v(i.f("i",e,t,0))),i.b('" class="post-'),i.b(i.v(i.f("type",e,t,0))),i.b('"><a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" class="'),i.s(i.f("detail_disclosure",e,t,1),e,t,0,110,127,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("detail-disclosure")}),e.pop()),i.s(i.f("disclosure",e,t,1),e,t,0,164,174,"{{ }}")&&(
i.rs(e,t,function(e,t,n){n.b("disclosure")}),e.pop()),i.b(" "),i.s(i.f("selected",e,t,1),e,t,0,203,211,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b("selected")}),e.pop()),i.b('"><div class="number">'),i.b(i.v(i.f("i",e,t,0))),i.b('</div><div class="story"><b>'),i.b(i.v(i.f("title",e,t,0))),i.b("</b>"),i.s(i.f("user",e,t,1),e,t,0,301,585,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<div class="metadata">'),n.s(n.f("domain",e,t,1),e,t,0,334,373,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(
'<div class="link-text">'),n.b(n.v(n.f("domain",e,t,0))),n.b("</div>")}),e.pop()),n.b('<span class="inline-block">'),n.b(n.v(n.f("points",e,t,0))),n.b(" "),n.b(n.v(n.f("i_point",e,t,0))),n.b(" by "),n.b(n.v(n.f("user",e,t,0))),n.b('</span> <span class="inline-block">'),n.b(n.v(n.f("time_ago",e,t,0))),n.s(n.f("comments_count",e,t,1),e,t,0,511,553,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(" &middot; "),n.b(n.v(n.f("comments_count",e,t,0))),n.b(" "),n.b(n.v(n.f("i_comment",e,t,0)))}),e.pop()),n.b(
"</span></div>")}),e.pop()),i.s(i.f("user",e,t,1),e,t,1,0,0,"")||(i.b('<div class="metadata">'),i.s(i.f("domain",e,t,1),e,t,0,636,681,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<span class="link-text">'),n.b(n.v(n.f("domain",e,t,0))),n.b("</span><br>")}),e.pop()),i.b('<span class="inline-block">'),i.b(i.v(i.f("time_ago",e,t,0))),i.b("</span></div>")),i.b("</div></a>"),i.s(i.f("detail_disclosure",e,t,1),e,t,0,785,859,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<a href="#/item/'),n.b(n.v(n.f("id",e,t,0
))),n.b('" class="detail-disclosure-button"><span></span></a>')}),e.pop()),i.b("</li>"),i.fl()},partials:{},subs:{}}),"stories-load":new e({code:function(e,t,n){var i=this;return i.b(n=n||""),i.s(i.f("loading",e,t,1),e,t,0,12,82,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<div class="loader"><i class="icon-loading"></i> Loading&hellip;</div>')}),e.pop()),i.s(i.f("load_error",e,t,1),e,t,0,109,161,"{{ }}")&&(i.rs(e,t,function(e,t,n){n.b('<div class="load-error">Couldn\'t load stories.</div>')}),
e.pop()),i.fl()},partials:{},subs:{}})}}(Hogan.Template),function(e){var w=e.document,c=e.$=function(e){return w.getElementById(e)},r={},y={pub:function(e,t){var n=r[e];if(n)for(var i=0,o=n.length;i<o;i++)n[i].call(this,t)},sub:function(e,t){r[e]||(r[e]=[]),r[e].push(t)},currentView:null,hideAllViews:function(){for(var e=w.querySelectorAll(".view"),t=0,n=e.length;t<n;t++)e[t].classList.add("hidden")},tmpl:function(e,t){e=TEMPLATES[e];if(e)return t?e.render(t):e},setTitle:function(e){
var t="HackerWeb";e&&(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase()!=t.toLowerCase()&&(t=e+" – "+t),document.title=t}};"undefined"!=typeof ga&&y.sub("logAPIError",function(e){ga("send","event","Errors","API",e)});var g=y.tmpl;function _(e){if(o=a[e])return o;s.href=e;var t=s.hostname.replace(/^www\./,""),n=s.pathname.replace(/^\//,"").split("/")[0],i=n.length,o=t+(t.length<=25&&3<i&&i<=15&&/^[^0-9][^.]+$/.test(n)?"/"+n:"");return a[e]=o}
amplify.store.sessionStorage&&"function"==typeof amplify.store.sessionStorage||(amplify.store.sessionStorage=amplify.store.memory);var s=w.createElement("a"),a={},l=w.querySelector("#view-home .scroll").querySelector("section"),u=!1;y.news={options:{disclosure:!0},markupStory:function(e){return/^item/i.test(e.url)?e.url="#/item/"+e.id:(e.external=!0,e.domain=_(e.url)),y.news.options.disclosure?("link"==e.type&&(e.detail_disclosure=!0),/^#\//.test(e.url)&&(e.detail_disclosure=!1,e.disclosure=!0,
e.domain=null)):e.id&&(e.url="#/item/"+e.id),e.i_point=1==e.points?"point":"points",e.i_comment=1==e.comments_count?"comment":"comments",g("post",e)},markupStories:function(e,t){var n="";t=t||1;var i=y.news.markupStory;return e.forEach(function(e){e.i=t++,n+=i(e)}),n},updateStory:function(e){if(e&&e.id){var n,i,t=e.id,o=e.data,e="hacker-news",r=amplify.store(e);if(r)for(var s=0,a=r.length;s<a;s++)if(t==(l=r[s]).id){n=l;break}if(!n&&(e="hacker-news2",r=amplify.store(e)))for(var l,s=0,
a=r.length;s<a;s++)if(t==(l=r[s]).id){n=l;break}n&&(i=!1,["title","url","time_ago","comments_count","points"].forEach(function(e){var t=o[e];n[e]!=t&&(n[e]=t,i=!0)}),i&&(amplify.store(e,r),(e=c("story-"+t))&&(n.selected=!!e.querySelector("a[href].selected"),n.i=e.dataset?e.dataset.index:e.getAttribute("data-index"),e.insertAdjacentHTML("afterend",y.news.markupStory(n)),e.parentNode.removeChild(e))))}},render:function(e){var t,n,i,o,r;u||(e=e||{},t=amplify.store("hacker-news-cached"),n=g(
"stories-load"),i=function(e){e=e.slice(),e='<ul class="tableview tableview-links" id="hwlist">'+y.news.markupStories(e)+(amplify.store("hacker-news2")?'<li><a class="more-link">More&hellip;<span class="loader"><i class="icon-loading"></i></span></a></li>':"")+"</ul>";l.innerHTML=e,y.pub("onRenderNews")},t?(o=amplify.store("hacker-news"),(e=e.delay)?(u=!0,l.innerHTML=n.render({loading:!0}),setTimeout(function(){u=!1,i(o)},e)):i(o)):(u=!0,l.innerHTML=n.render({loading:!0}),r=function(){
l.innerHTML=n.render({load_error:!0}),y.pub("logAPIError","news")},hnapi.news(function(e){u=!1,e&&!e.error?(amplify.store("hacker-news",e),amplify.store("hacker-news-cached",!0,{expires:6e5}),amplify.store("hacker-news2",null),i(e),hnapi.news2(function(e){e&&!e.error&&(amplify.store("hacker-news2",e),c("hwlist").insertAdjacentHTML("beforeend",'<li><a class="more-link">More&hellip;<span class="loader"></span></a></li>'))})):r()},function(e){u=!1,r()})))},reload:function(){y.news.render({delay:300
})},more:function(t){var n;t.classList.contains("loading")||(t.classList.add("loading"),n=amplify.store("hacker-news2"),setTimeout(function(){t.classList.remove("loading");var e=t.parentNode;e&&(e.parentNode&&e.parentNode.removeChild(e),n&&(e=n.slice(),e=y.news.markupStories(e,31),c("hwlist").insertAdjacentHTML("beforeend",e)))},400))}};var t=c("view-comments"),T=t.querySelector("header h1"),E=t.querySelector("section");y.comments={currentID:null,render:function(t){if(t){
var e=amplify.store.sessionStorage("hacker-item-"+t);if(y.comments.currentID!=t||!e){y.comments.currentID=t;function n(e,t){var n=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(e),i=g("post-comments");if(n.has_post=!!n.title,!n.has_post)return y.setTitle(),T.innerHTML="",E.innerHTML=i.render(n),y.pub("adjustCommentsSection"),void y.pub("onRenderComments");var o,r,e=g("comments");/^item/i.test(n.url)?n.url="//news.ycombinator.com/"+n.url:n.domain=_(n.url),
n.has_comments=n.comments&&!!n.comments.length,n.i_point=1==n.points?"point":"points",n.i_comment=1==n.comments_count?"comment":"comments",n.has_content=!!n.content,n.poll&&(r=o=0,n.poll.forEach(function(e){var t=e.points;r<t&&(r=t),o+=t,e.i_point=1==t?"point":"points"}),n.poll.forEach(function(e){var t=e.points;e.percentage=(t/o*100).toFixed(1),e.width=(t/r*100).toFixed(1)+"%"}),n.has_poll=n.has_content=!0),n.short_hn_url="news.ycombinator.com/item?id="+t,n.hn_url="//"+n.short_hn_url,
y.setTitle(n.title),T.innerHTML=n.title;var e=i.render(n,{comments_list:e}),s=w.createElement("div");s.innerHTML=e;for(var a=s.querySelectorAll("a"),l=0,c=a.length;l<c;l++)a[l].target="_blank";var u=n.user;if(u)for(var d=s.querySelectorAll(".user"),l=0,c=d.length;l<c;l++){var h=d[l];h.textContent.trim()==u&&(h.classList.add("op"),h.title="Original Poster")}if(2e4<e.length)for(var f=s.querySelectorAll(".comments>ul>li>ul"),p=g("comments-toggle"),m=0,c=f.length;m<c;m++){var v=f[m],
b=v.querySelectorAll(".metadata").length;v.style.display="none",b&&v.insertAdjacentHTML("beforebegin",p.render({comments_count:b,i_reply:1==b?"reply":"replies"}))}for(;E.hasChildNodes();)E.removeChild(E.childNodes[0]);for(;s.hasChildNodes();)E.appendChild(s.childNodes[0]);delete s,y.pub("onRenderComments")}if(e)E.scrollTop=0,n(e,t);else{var i=amplify.store("hacker-news");if(i)for(var o=0,r=i.length;o<r;o++){var s=i[o];if(t==s.id){e=s;break}}if(!e)if(i=amplify.store("hacker-news2"))for(o=0,
r=i.length;o<r;o++){s=i[o];if(t==s.id){e=s;break}}e?(e.loading=!0,n(e,t)):n({loading:!0},t);function a(){e?(delete e.loading,e.load_error=!0,n(e,t)):n({load_error:!0},t),y.pub("logAPIError","comments")}hnapi.item(t,function(e){y.comments.currentID==t&&(!e||e.error&&"comments"==y.currentView?a():(amplify.store.sessionStorage("hacker-item-"+t,e,{expires:3e5}),y.news.updateStory({id:t,data:e}),n(e,t)))},function(e){y.comments.currentID==t&&a()})}}}},toggle:function(e){var t=e.nextElementSibling
;t&&(e=t.style,t=E.scrollTop,e.display="none"==e.display?"":"none",E.scrollTop=t)},reload:function(){y.comments.currentID=null,ruto.reload()}},y.init=function(){y.news.render(),ruto.init(),function e(){var t,n,i,o,r,s=Array.from(document.styleSheets).find(function(e){return/hw.*\.css/i.test(e.href)});function a(e){"dark"===e?(t.media.mediaText="screen",i.content="dark"):"light"===e?(t.media.mediaText="not all",i.content="light"):(t.media.mediaText="(prefers-color-scheme: dark)",
i.content="dark light")}s?(t=Array.from(s.cssRules).find(function(e){return e.media&&/color-scheme:\s*dark/i.test(e.media.mediaText)}))&&(c("hw-appearance-container").hidden=!1,n=c("hw-appearance"),i=c("meta-color-scheme"),o=window.matchMedia&&"not all"!==window.matchMedia("(prefers-color-scheme)").media,r="hw-appearance",a(s=localStorage.getItem(r)||"auto"),o?(n.querySelector("[name=hw-appearance][value=auto]").parentNode.hidden=!1,n.querySelector("[name=hw-appearance][value="+s+"]").checked=!0
):(/(light|dark)/i.test(s)||(s="light"),n.querySelector('[name=hw-appearance][value="'+s+'"]').checked=!0),n.onclick=function(){var e=n.querySelector("[name=hw-appearance]:checked").value;localStorage.setItem(r,e),a(e)}):setTimeout(e,1e3)}()},e.hw=y,ruto.config({before:function(e,t){y.hideAllViews();var n=c("view-"+t);n.classList.remove("hidden"),y.currentView=t,y.setTitle(n.querySelector("header h1").textContent)},notfound:function(){ruto.go("/")}}).add("/","home").add("/about","about").add(
/^\/item\/(\d+)$/i,"comments",function(e,t){y.comments.render(t)})}(window),function(n){function a(e){var t=e.in,n=e.out,i=t.classList,o=n.classList,n=e.direction,r=e.fn,s=u[n],a=function(){t.removeEventListener("webkitAnimationEnd",a,!1),c.classList.remove("viewport-flip"),o.add("hidden"),i.remove("flip"),o.remove("flip"),o.remove(s[0]),i.remove(s[1]),r&&r.apply()};c.classList.add("viewport-flip"),i.remove("hidden"),o.add("flip"),i.add("flip"),t.addEventListener("webkitAnimationEnd",a,!1),
o.add(s[0]),i.add(s[1])}function l(e){var t=e.in,n=e.out,i=t.classList,o=n.classList,r=t.getElementsByTagName("header")[0],n=n.getElementsByTagName("header")[0],s=r.classList,a=n.classList,n=e.direction,l=e.fn,c=d[n],u=function(){o.add("hidden"),t.removeEventListener("webkitAnimationEnd",u,!1),o.remove("sliding"),i.remove("sliding"),o.remove(c[0]),i.remove(c[1]),s.remove("transparent"),a.remove("transparent"),l&&l.apply()};i.remove("hidden"),o.add("sliding"),i.add("sliding"),t.addEventListener(
"webkitAnimationEnd",u,!1),s.add("transparent"),a.add("transparent"),o.add(c[0]),i.add(c[1])}function t(){return 640<=n.innerWidth?"wide":"narrow"}var r=n.document,c=r.body,u={clockwise:["flip-out-to-left","flip-in-from-left"],anticlockwise:["flip-out-to-right","flip-in-from-right"]},d={rtl:["slide-out-to-left","slide-in-from-right"],ltr:["slide-out-to-right","slide-in-from-left"]};(e=r.querySelector("meta[name=viewport]"))||((e=r.createElement("meta")).name="viewport",r.head.appendChild(e)),
e.content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0";var s=(e=navigator.userAgent)&&/iPhone|iPod/.test(e),i=parseInt((e.match(/ OS (\d+)_/i)||[,0])[1],10)<6;s&&i&&c.classList.add("ios5");var h="wide"==t();n.addEventListener("resize",function(){var e="wide"==t();e!=h&&(h=e,location.reload())}),c.insertAdjacentHTML("beforeend",h?'<div id="overlay" class="hide"></div>':'<header class="fake"></header>'),ruto.config({before:function(e,t,n){var i,
o=hw.currentView,r=hw.hideAllViews,s=$("view-"+t);switch(hw.setTitle(s.querySelector("header h1").textContent),t){case"home":h?(r(),$("overlay").classList.add("hide"),s.classList.remove("hidden"),(i=$("view-comments")).classList.remove("hidden"),i.querySelector("section").innerHTML='<div class="view-blank-state"><div class="view-blank-state-text">No Story Selected.</div></div>',i.querySelector("header h1").innerHTML="",i.querySelector("header a.header-back-button").style.display="none",
hw.comments.currentID=null,hw.pub("selectCurrentStory")):o?"about"==o?a({in:s,out:$("view-"+o),direction:"anticlockwise"}):"home"!=o&&l({in:s,out:$("view-"+o),direction:"ltr"}):(r(),s.classList.remove("hidden")),hw.currentView="home";break;case"about":h?(s.classList.remove("hidden"),$("view-home").classList.remove("hidden"),$("view-comments").classList.remove("hidden"),setTimeout(function(){$("overlay").classList.remove("hide")},1)):o?"about"!=o&&a({in:s,out:$("view-home"),direction:"clockwise"}
):(r(),s.classList.remove("hidden")),hw.currentView="about";break;case"comments":h?(r(),$("overlay").classList.add("hide"),s.classList.remove("hidden"),$("view-home").classList.remove("hidden"),hw.pub("selectCurrentStory",n[1]),s.querySelector("header a.header-back-button").style.display=""):o?"comments"!=o&&((i=n[1])&&hw.comments.currentID!=i&&(s.querySelector("section").scrollTop=0),l({in:s,out:$("view-"+o),direction:"rtl"})):(r(),s.classList.remove("hidden")),hw.currentView="comments"}}}),
n.addEventListener("pagehide",function(){for(var e=r.querySelectorAll(".view"),t={},n=0,i=e.length;n<i;n++){var o=e[n];t[o.id]=o.querySelector(".scroll section").scrollTop||0}amplify.store("hacker-scrolltops",t)},!1);var o,e=function(){var t=amplify.store("hacker-scrolltops");setTimeout(function(){for(var e in t)$(e).querySelector(".scroll section").scrollTop=t[e]},1)};n.addEventListener("pageshow",e,!1),e(),s&&(b=r.querySelectorAll(".view>.scroll"),o=null,Array.prototype.forEach.call(b,
function(e){e.addEventListener("touchstart",function(){var e;n.innerHeight!=o&&(n.scrollTo(0,0),i&&((e=r.createElement("div")).style.height="600px",c.appendChild(e),setTimeout(function(){c.removeChild(e)},100)),o=n.innerHeight)},!1)})),tappable(".view>header a.header-button[href]",{noScroll:!0,onTap:function(e,t){t=t.hash;h&&/about/i.test(ruto.current)&&"#/"==t?ruto.back("/"):location.hash=t}}),tappable("#view-home-refresh",{noScroll:!0,onTap:hw.news.reload});var f,p=!1;function m(){var e,
t=r.querySelector("#view-comments section");t&&(e=t.querySelector(".post-content"),t.querySelector(".comments")&&(t=t.offsetHeight-e.offsetHeight+1,(e=$("comment-section-style"))||((e=r.createElement("style")).id="comment-section-style",r.head.appendChild(e)),e.textContent=".view section.comments{min-height: "+t+"px;}"))}tappable(".view>header h1",{onTap:function(e,t){var n,i,o=t.parentNode.nextElementSibling.firstElementChild;0==o.scrollTop||p?s&&(n=c.style.height,c.style.height="100%",
setTimeout(function(){c.style.height=n},100)):p||(p=!0,i=o.style.overflow,o.style.overflow="hidden",setTimeout(function(){o.style.overflow=i;var e=new TWEEN.Tween({scrollTop:o.scrollTop}).to({scrollTop:0},300).easing(TWEEN.Easing.Cubic.InOut).onUpdate(function(){o.scrollTop=this.scrollTop}).onComplete(function(){cancelAnimationFrame(n),e.stop(),p=!1,delete e}).start(),t=function(){TWEEN.update(),requestAnimationFrame(t)},n=requestAnimationFrame(t)},200))}}),tappable(
"#view-home .tableview-links li>a:first-child",{allowClick:!h,activeClassDelay:100,inactiveClassDelay:h?100:1e3,onStart:function(e,t){var n;!h||(n=t.parentNode)&&(n=n.parentNode,f=setTimeout(function(){n&&n.classList.add("list-tapped")},100))},onMove:function(){h&&clearTimeout(f)},onEnd:function(e,t){var n;h&&(clearTimeout(f),n=t.parentNode.parentNode,setTimeout(function(){n&&n.classList.remove("list-tapped")},100))},onTap:function(e,t){t.classList.contains("more-link")?hw.news.more(t
):/^#\//.test(t.getAttribute("href"))?location.hash=t.hash:t.href&&h&&n.open(t.href)}}),tappable("#view-about .grouped-tableview-links li>a:first-child",{allowClick:!0,activeClassDelay:100,inactiveClassDelay:1e3}),tappable("#view-home .tableview-links li>a.detail-disclosure-button",{noScroll:!0,noScrollDelay:100,onTap:function(e,t){location.hash=t.hash}}),tappable("button.comments-toggle",function(e,t){hw.comments.toggle(t)}),tappable("#view-comments .load-error button",hw.comments.reload),
hw.sub("selectCurrentStory",function(e){if(h){e=e||(location.hash.match(/item\/(\d+)/)||[,""])[1];for(var t,n=$("view-home"),i=n.querySelectorAll("a[href].selected"),o=0,r=i.length;o<r;o++)i[o].classList.remove("selected");!e||(t=n.querySelector('a[href*="item/'+e+'"]'))&&(t.classList.add("selected"),setTimeout(function(){t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded():t.scrollIntoView()},1))}}),hw.sub("onRenderNews",function(){hw.pub("selectCurrentStory")}),n.addEventListener("pageshow",
function(){setTimeout(function(){"home"==hw.currentView&&$("hwlist")&&!amplify.store("hacker-news-cached")&&hw.news.reload()},1)},!1),hw.sub("onRenderComments",function(){setTimeout(m,h?1:360)}),n.addEventListener("resize",m,!1),n.addEventListener("orientationchange",m,!1);var v=void 0!==n.orientation,b=function(){v&&(c.style.height=screen.height+"px",setTimeout(function(){n.scrollTo(0,0),c.style.height=n.innerHeight+"px"},1))};h||("complete"==r.readyState?b():n.addEventListener("load",b,!1),
v&&(n.onorientationchange=b)),hw.news.options.disclosure=!h,hw.init()}(window);
//# sourceMappingURL=hw-ios.min.js.map